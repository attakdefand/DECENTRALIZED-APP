# Group A - Existing Tests Mapping

This document maps the existing test files in the `contracts/test/core` directory to the Group A testing domains.

## Logic & Math Testing

### LogicPatternsTest.sol
- **Domain**: Logic & Math
- **Focus**: CEI patterns, reentrancy guards, access control
- **Test Types**: Unit, Property-based
- **Coverage**:
  - CEI pattern validation
  - Reentrancy protection
  - Access control enforcement
  - Input bounds validation
  - Invariant testing

### MathSafetyTest.sol
- **Domain**: Logic & Math
- **Focus**: Overflow protection, precision handling, value conservation
- **Test Types**: Unit, Property-based, Differential
- **Coverage**:
  - Overflow/underflow protection
  - Precision handling
  - Value conservation
  - Arithmetic safety
  - Differential testing vs reference model

### SafetyTests.sol
- **Domain**: Logic & Math
- **Focus**: Comprehensive safety mechanisms
- **Test Types**: Unit, Property-based
- **Coverage**:
  - SafeToken tests
  - Vault tests
  - CEI pattern validation
  - Input bounds validation
  - Reentrancy protection
  - Emergency lock functionality
  - Withdrawal limit functionality

## Upgradeability Testing

### UpgradeabilityTests.sol
- **Domain**: Upgradeability
- **Focus**: Basic upgrade functionality
- **Test Types**: Unit
- **Coverage**:
  - Upgrade mechanism validation
  - Storage compatibility
  - Authorization checks

### ComprehensiveUpgradeabilityTest.sol
- **Domain**: Upgradeability
- **Focus**: Complete upgrade process testing
- **Test Types**: Unit, Integration
- **Coverage**:
  - End-to-end upgrade process
  - Cross-contract interactions
  - State persistence
  - Performance impact

### StorageLayoutDiffTest.sol
- **Domain**: Upgradeability
- **Focus**: Storage layout compatibility
- **Test Types**: Unit
- **Coverage**:
  - Storage layout diff verification
  - Slot ordering validation
  - Type compatibility checking

## AMM/DEX Testing

### CPMMTest.sol
- **Domain**: AMM/DEX
- **Focus**: Constant Product Market Maker implementation
- **Test Types**: Unit, Property-based, Differential
- **Coverage**:
  - Pool creation
  - Liquidity operations
  - Swap functionality
  - Stable swap behavior
  - Fee collection and routing
  - Constant product invariant
  - Amplification invariant

## Orderbook Testing

### OrderbookTest.sol
- **Domain**: Orderbook
- **Focus**: Matching engine functionality
- **Test Types**: Unit, Integration
- **Coverage**:
  - Order placement
  - Order cancellation
  - Order matching
  - Price-time priority
  - Partial fills
  - IOC/FOK orders

## Lending/Perps Testing

### LendingPoolTest.sol
- **Domain**: Lending/Perps
- **Focus**: Lending pool functionality
- **Test Types**: Unit, Integration
- **Coverage**:
  - Supply operations
  - Borrow operations
  - Repayment functionality
  - Liquidation mechanisms
  - Interest calculation
  - Risk management

## Oracle Testing

### OracleTest.sol
- **Domain**: Oracle
- **Focus**: Oracle functionality and security
- **Test Types**: Unit, Integration
- **Coverage**:
  - Price feed validation
  - Staleness detection
  - Outlier rejection
  - Median calculation
  - Quorum validation
  - Fallback mechanisms

## MEV & Fairness Testing

### MEVTests.sol
- **Domain**: MEV & Fairness
- **Focus**: MEV detection and prevention
- **Test Types**: Unit, Simulation
- **Coverage**:
  - MEV opportunity detection
  - Sandwich attack prevention
  - Front-running protection
  - Fair ordering mechanisms

### MEVAndFairnessTest.sol
- **Domain**: MEV & Fairness
- **Focus**: Extended MEV and fairness testing
- **Test Types**: Unit, Integration
- **Coverage**:
  - Commit-reveal mechanisms
  - Batch processing fairness
  - Anti-sandwich protections
  - Uniform clearing validation

## Account Abstraction Testing

### AATests.sol
- **Domain**: Account Abstraction
- **Focus**: Account Abstraction functionality
- **Test Types**: Unit, Integration
- **Coverage**:
  - UserOps validation
  - Paymaster functionality
  - Session key scope
  - Nonce management
  - Signature validation
  - Budget enforcement

## Tx/Mempool Testing

### TxRoutingTests.sol
- **Domain**: Tx/Mempool
- **Focus**: Transaction routing and privacy
- **Test Types**: Unit, Integration
- **Coverage**:
  - Private route validation
  - Deadline enforcement
  - Permit functionality
  - EIP-155 replay protection
  - Domain separator validation
  - Expiry enforcement

## Cross-chain / Bridges Testing

(Note: No specific bridge tests currently exist in the core test directory)

## Additional Tests

### BuildMatrixTest.sol
- **Domain**: Infrastructure
- **Focus**: Build matrix validation
- **Test Types**: Integration
- **Coverage**:
  - Cross-platform build validation
  - Compiler version compatibility
  - Dependency resolution

### CircuitBreakerTest.sol
- **Domain**: Risk Management
- **Focus**: Circuit breaker functionality
- **Test Types**: Unit, Integration
- **Coverage**:
  - Emergency pause mechanisms
  - Circuit breaker activation
  - Graceful degradation
  - Recovery procedures

### EventSchemaTest.sol
- **Domain**: Observability
- **Focus**: Event emission and schema validation
- **Test Types**: Unit, Integration
- **Coverage**:
  - Event emission consistency
  - Schema validation
  - Data integrity in events